<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pi IR Remote</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header>
        <div>
          <div class="title">Pi IR Remote</div>
          <div class="muted">
            Send color commands from your browser to your Raspberry Pi IR blaster
          </div>
        </div>
        <div class="status" id="status">
          <span class="dot" id="dot"></span><span id="statusText">Not connected</span>
        </div>
      </header>

      <section>
        <div class="row">
          <div class="grow">
            <label class="muted">Pi Base URL</label>
            <input id="baseUrl" type="text" placeholder="http://raspberrypi.local:8000" />
          </div>
          <div>
            <label class="muted">Auth Token (optional)</label>
            <input id="authToken" type="password" placeholder="paste token" />
          </div>
          <div>
            <label class="muted">&nbsp;</label>
            <button id="saveBtn" class="btn-accent">Save</button>
          </div>
          <div>
            <label class="muted">&nbsp;</label>
            <button id="pingBtn">Ping</button>
          </div>
        </div>
        <div class="hint" style="margin-top: 8px">
          Tip: host this page anywhere (even locally). Your Pi must allow CORS from this origin.
        </div>
      </section>

      <section class="controls">
        <div class="picker">
          <div>
            <div class="color-preview" id="preview">#FFFFFF</div>
          </div>
          <div>
            <div class="row" style="align-items: center; gap: 16px">
              <div class="grow">
                <label class="muted">Pick a color</label>
                <input
                  id="colorPicker"
                  type="color"
                  value="#ffffff"
                  style="
                    width: 100%;
                    height: 48px;
                    border-radius: 12px;
                    border: 1px solid rgba(255, 255, 255, 0.12);
                    background: #0d1016;
                  "
                />
              </div>
              <div>
                <label class="muted">Send</label>
                <button id="sendColorBtn">Send</button>
              </div>
            </div>

            <div style="margin-top: 16px" class="range-row">
              <div class="muted">Brightness</div>
              <input id="brightness" type="range" min="0" max="100" value="100" />
              <div id="brightnessVal">100%</div>
            </div>
          </div>
        </div>

        <div>
          <div class="muted" style="margin-bottom: 8px">Quick colors</div>
          <div class="swatches" id="swatches"></div>
        </div>

        <div>
          <div class="muted" style="margin-bottom: 8px">Modes</div>
          <div class="modes">
            <button data-mode="flash">Flash</button>
            <button data-mode="strobe">Strobe</button>
            <button data-mode="fade">Fade</button>
            <button data-mode="smooth">Smooth</button>
          </div>
        </div>

        <div>
          <div class="muted" style="margin-bottom: 8px">Power</div>
          <div class="power">
            <button id="btnOn" style="border-color: rgba(29, 185, 84, 0.5)">On</button>
            <button id="btnOff" style="border-color: rgba(255, 77, 79, 0.5)">Off</button>
            <button id="btnWhite">White</button>
            <button id="btnWarm">Warm White</button>
          </div>
        </div>
      </section>

      <footer>
        Built for local control.
        <span class="hint"
          >Open this on your phone, save the URL once, and tap colors like a remote.</span
        >
      </footer>
    </div>

    <div class="toast" id="toast"></div>

    <script src="script.js"></script>
  </body>
</html>
